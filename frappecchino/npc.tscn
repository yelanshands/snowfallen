[gd_scene load_steps=9 format=4 uid="uid://ro3nbpeyv3v5"]

[ext_resource type="Script" uid="uid://4xkne2rhx8fr" path="res://npc.gd" id="1_xxcha"]
[ext_resource type="PackedScene" uid="uid://b3fhkrqfgm6rc" path="res://enemi.tscn" id="2_xxcha"]
[ext_resource type="PackedScene" uid="uid://biirmcqhxqkos" path="res://enemy_pewpew.tscn" id="3_kh24r"]

[sub_resource type="BoxShape3D" id="BoxShape3D_xxcha"]
size = Vector3(0, 0, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u5t2e"]
resource_name = "0.615686_0.811765_0.929412_0.000000_0.000000"
cull_mode = 2
albedo_color = Color(0.806957, 0.9121972, 0.96830684, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_gihnw"]
_surfaces = [{
"aabb": AABB(-0.0635, 0.0381, -3.345472e-17, 0.127, 1e-05, 0.06340687),
"format": 34896613377,
"index_count": 84,
"index_data": PackedByteArray("AAABAAIAAQAAAAMAAwAAAAQABAAAAAUABQAGAAQABQAHAAYABwAFAAgACQAIAAUACAAJAAoACgALAAgACwAKAAwACgANAAwADQAKAA4ADgAKAA8AEAAPAAoADwAQABEAEgAPABEADwASABMADwATABQAFQAPABQADwAVABYAFwAPABYADwAXABgAGQAPABgADwAZABoAGwAPABoADwAbABwADwAcAB0A"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 30,
"vertex_data": PackedByteArray("PaIAAAb3AAD0uwAAguIAAGCvAAAp7gAA1McAADLUAADc0gAAZcMAALSUAAD+/AAA7NwAAE6wAADl5QAAJpsAAKztAAAshAAA7YYAAP//AAAReQAA//8AACr0AAClawAAS/kAANxRAAAA/QAAHDcAAD7/AAC3GwAA//8AAAAAAABKawAA/vwAAMFdAAAG9wAAnlAAACnuAAAKRAAAguIAACo4AAAy1AAAIi0AAGXDAAASIwAATrAAABkaAAAmmwAAUhIAACyEAADUCwAApWsAALMGAADcUQAA/gIAABw3AADAAAAAtxsAAAAAAAAAAAAA")
}, {
"aabb": AABB(-0.0635, 0, -3.345472e-17, 0.127, 0.0381, 1e-05),
"format": 34359742465,
"index_count": 6,
"index_data": PackedByteArray("AAABAAIAAQAAAAMA"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 4,
"vertex_data": PackedByteArray("SgyCPb8OHD1dSBqkSgyCvQAAAACM74AjSgyCPQAAAABdSBqkSgyCvb8OHD2M74Aj")
}, {
"aabb": AABB(-0.0635, 0, -3.345472e-17, 0.127, 0.0381, 0.06340687),
"format": 34896613377,
"index_count": 174,
"index_data": PackedByteArray("AAABAAIAAQAAAAMAAwAEAAEABAADAAUABQAGAAQABgAFAAcABwAIAAYACAAHAAkACQAKAAgACgAJAAsACwAMAAoADAALAA0ADQAOAAwADgANAA8ADwAQAA4AEAAPABEAEQASABAAEgARABMAEwAUABIAFAATABUAFQAWABQAFgAVABcAFwAYABYAGAAXABkAGQAaABgAGgAZABsAGwAcABoAHAAbAB0AHQAeABwAHgAdAB8AHwAgAB4AIAAfACEAIQAiACAAIgAhACMAIwAkACIAJAAjACUAJQAmACQAJgAlACcAJwAoACYAKAAnACkAKQAqACgAKgApACsAKwAsACoALAArAC0ALQAuACwALgAtAC8ALwAwAC4AMAAvADEAMQAyADAAMgAxADMAMwA0ADIANAAzADUANQA2ADQANgA1ADcANwA4ADYAOAA3ADkAOQA6ADgAOgA5ADsA"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 60,
"vertex_data": PackedByteArray("//8AAAAAAAA+////txsAAP////8AAAAAPv8AALcbAAAA/f//HDcAAAD9AAAcNwAAS/n//9xRAABL+QAA3FEAACr0//+lawAAKvQAAKVrAACs7f//LIQAAKztAAAshAAA5eX//yabAADl5QAAJpsAAOzc//9OsAAA7NwAAE6wAADc0v//ZcMAANzSAABlwwAA1Mf//zLUAADUxwAAMtQAAPS7//+C4gAA9LsAAILiAABgr///Ke4AAGCvAAAp7gAAPaL//wb3AAA9ogAABvcAALSU///+/AAAtJQAAP78AADthv////8AAO2GAAD//wAAEXn/////AAAReQAA//8AAEpr///+/AAASmsAAP78AADBXf//BvcAAMFdAAAG9wAAnlD//ynuAACeUAAAKe4AAApE//+C4gAACkQAAILiAAAqOP//MtQAACo4AAAy1AAAIi3//2XDAAAiLQAAZcMAABIj//9OsAAAEiMAAE6wAAAZGv//JpsAABkaAAAmmwAAUhL//yyEAABSEgAALIQAANQL//+lawAA1AsAAKVrAACzBv//3FEAALMGAADcUQAA/gL//xw3AAD+AgAAHDcAAMAA//+3GwAAwAAAALcbAAAAAP//AAAAAAAAAAAAAAAA")
}, {
"aabb": AABB(-0.0635, 0, -3.345472e-17, 0.127, 1e-05, 0.06340687),
"format": 34896613377,
"index_count": 84,
"index_data": PackedByteArray("AAABAAIAAQAAAAMAAAACAAQABAACAAUABgAEAAUABwAEAAYABAAHAAgACAAJAAQACQAIAAoACwAKAAgACgALAAwADQAKAAwACgANAA4ACgAOAA8ADwAQAAoAEAAPABEADwASABEAEgAPABMAEwAPABQADwAVABQAFQAPABYADwAXABYAFwAPABgADwAZABgAGQAPABoADwAbABoAGwAPABwAHAAPAB0A"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 30,
"vertex_data": PackedByteArray("PaIAAAb3AAD0uwAAguIAANTHAAAy1AAAYK8AACnuAAC0lAAA/vwAANzSAABlwwAA7NwAAE6wAADl5QAAJpsAAKztAAAshAAA7YYAAP//AAAReQAA//8AACr0AAClawAAS/kAANxRAAAA/QAAHDcAAD7/AAC3GwAA//8AAAAAAABKawAA/vwAAMFdAAAG9wAAnlAAACnuAAAKRAAAguIAACo4AAAy1AAAIi0AAGXDAAASIwAATrAAABkaAAAmmwAAUhIAACyEAADUCwAApWsAALMGAADcUQAA/gIAABw3AADAAAAAtxsAAAAAAAAAAAAA")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_xxcha"]
resource_name = "Root_mesh0_mesh"
_surfaces = [{
"aabb": AABB(-0.0635, 0.0381, -3.345472e-17, 0.127, 1e-05, 0.06340687),
"attribute_data": PackedByteArray("PaL4CPS7fB1gr9UR1MfMK9zSmTy0lAAD7NywT+Xl2GSs7dJ77YYAABF5AAAq9FmUS/kirgD94sg+/0fk/////0prAAPBXfgInlDVEQpEfB0qOMwrIi2ZPBIjsE8ZGthkUhLSe9QLWZSzBiKu/gLiyMAAR+QAAP//"),
"format": 34896613399,
"index_count": 84,
"index_data": PackedByteArray("AAABAAIAAQAAAAMAAwAAAAQABAAAAAUABQAGAAQABQAHAAYABwAFAAgACQAIAAUACAAJAAoACgALAAgACwAKAAwACgANAAwADQAKAA4ADgAKAA8AEAAPAAoADwAQABEAEgAPABEADwASABMADwATABQAFQAPABQADwAVABYAFwAPABYADwAXABgAGQAPABgADwAZABoAGwAPABoADwAbABwADwAcAB0A"),
"material": SubResource("StandardMaterial3D_u5t2e"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 30,
"vertex_data": PackedByteArray("PaIAAAb3/z/0uwAAguL/P2CvAAAp7v8/1McAADLU/z/c0gAAZcP/P7SUAAD+/P8/7NwAAE6w/z/l5QAAJpv/P6ztAAAshP8/7YYAAP///z8ReQAA////Pyr0AACla/8/S/kAANxR/z8A/QAAHDf/Pz7/AAC3G/8///8AAAAA/z9KawAA/vz/P8FdAAAG9/8/nlAAACnu/z8KRAAAguL/Pyo4AAAy1P8/Ii0AAGXD/z8SIwAATrD/PxkaAAAmm/8/UhIAACyE/z/UCwAApWv/P7MGAADcUf8//gIAABw3/z/AAAAAtxv/PwAAAAAAAP8//v//f/7//3/+//9//v//f/7//3/+//9/////f/7//3/+//9/////f/7//3/+//9/////f/7//3/+//9//v//f/7//3/+//9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/")
}, {
"aabb": AABB(-0.0635, 0, -3.345472e-17, 0.127, 0.0381, 1e-05),
"attribute_data": PackedByteArray("AACAPwAAgD8AAAAAAAAAAAAAgD8AAAAAAAAAAAAAgD8="),
"format": 34359742487,
"index_count": 6,
"index_data": PackedByteArray("AAABAAIAAQAAAAMA"),
"material": SubResource("StandardMaterial3D_u5t2e"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 4,
"vertex_data": PackedByteArray("SgyCPb8OHD1dSBqkSgyCvQAAAACM74AjSgyCPQAAAABdSBqkSgyCvb8OHD2M74AjAAD//////78AAP//////vwAA//////+/AAD//////78=")
}, {
"aabb": AABB(-0.0635, 0, -3.345472e-17, 0.127, 0.0381, 0.06340687),
"attribute_data": PackedByteArray("AAD//9MIAAAAAAAA0wj//6cRAACnEf//exoAAHsa//9PIwAATyP//yMsAAAjLP//9jQAAPY0///KPQAAyj3//55GAACeRv//ck8AAHJP//9GWAAARlj//xphAAAaYf//7WkAAO1p///BcgAAwXL//5V7AACVe///aYQAAGmE//89jQAAPY3//xGWAAARlv//5J4AAOSe//+4pwAAuKf//4ywAACMsP//YLkAAGC5//80wgAANML//wjLAAAIy///29MAANvT//+v3AAAr9z//4PlAACD5f//V+4AAFfu//8r9wAAK/f/////AAD/////"),
"format": 34896613399,
"index_count": 174,
"index_data": PackedByteArray("AAABAAIAAQAAAAMAAwAEAAEABAADAAUABQAGAAQABgAFAAcABwAIAAYACAAHAAkACQAKAAgACgAJAAsACwAMAAoADAALAA0ADQAOAAwADgANAA8ADwAQAA4AEAAPABEAEQASABAAEgARABMAEwAUABIAFAATABUAFQAWABQAFgAVABcAFwAYABYAGAAXABkAGQAaABgAGgAZABsAGwAcABoAHAAbAB0AHQAeABwAHgAdAB8AHwAgAB4AIAAfACEAIQAiACAAIgAhACMAIwAkACIAJAAjACUAJQAmACQAJgAlACcAJwAoACYAKAAnACkAKQAqACgAKgApACsAKwAsACoALAArAC0ALQAuACwALgAtAC8ALwAwAC4AMAAvADEAMQAyADAAMgAxADMAMwA0ADIANAAzADUANQA2ADQANgA1ADcANwA4ADYAOAA3ADkAOQA6ADgAOgA5ADsA"),
"material": SubResource("StandardMaterial3D_u5t2e"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 60,
"vertex_data": PackedByteArray("//8AAAAAAAA+////txsAAP////8AAAAAPv8AALcbAAAA/f//HDcAAAD9AAAcNwAAS/n//9xRAABL+QAA3FEAACr0//+lawAAKvQAAKVrAACs7f//LIQAAKztAAAshAAA5eX//yabAADl5QAAJpsAAOzc//9OsAAA7NwAAE6wAADc0v//ZcMAANzSAABlwwAA1Mf//zLUAADUxwAAMtQAAPS7//+C4gAA9LsAAILiAABgr///Ke4AAGCvAAAp7gAAPaL//wb3AAA9ogAABvcAALSU///+/AAAtJQAAP78AADthv////8AAO2GAAD//wAAEXn/////AAAReQAA//8AAEpr///+/AAASmsAAP78AADBXf//BvcAAMFdAAAG9wAAnlD//ynuAACeUAAAKe4AAApE//+C4gAACkQAAILiAAAqOP//MtQAACo4AAAy1AAAIi3//2XDAAAiLQAAZcMAABIj//9OsAAAEiMAAE6wAAAZGv//JpsAABkaAAAmmwAAUhL//yyEAABSEgAALIQAANQL//+lawAA1AsAAKVrAACzBv//3FEAALMGAADcUQAA/gL//xw3AAD+AgAAHDcAAMAA//+3GwAAwAAAALcbAAAAAP//AAAAAAAAAAAAAAAA/7//f4a8/3//v/9/hrz/fwm5/38Juf9/gbX/f4G1/3/osf9/6LH/fzqu/386rv9/bqr/f26q/39/pv9/f6b/f2Oi/39jov9/EZ7/fxGe/399mf9/fZn/f5qU/3+alP9/WI//f1iP/3+iif9/oon/f1+D/39fg/9/n3z/f598/39cdv9/XHb/f6Zw/3+mcP9/ZGv/f2Rr/3+BZv9/gWb/f+1h/3/tYf9/m13/f5td/39/Wf9/f1n/f5BV/3+QVf9/xFH/f8RR/38WTv9/Fk7/f31K/399Sv9/9Ub/f/VG/394Q/9/eEP/f/8//3//P/9/")
}, {
"aabb": AABB(-0.0635, 0, -3.345472e-17, 0.127, 1e-05, 0.06340687),
"attribute_data": PackedByteArray("PaL4CPS7fB3Ux8wrYK/VEbSUAAPc0pk87NywT+Xl2GSs7dJ77YYAABF5AAAq9FmUS/kirgD94sg+/0fk/////0prAAPBXfgInlDVEQpEfB0qOMwrIi2ZPBIjsE8ZGthkUhLSe9QLWZSzBiKu/gLiyMAAR+QAAP//"),
"format": 34896613399,
"index_count": 84,
"index_data": PackedByteArray("AAABAAIAAQAAAAMAAAACAAQABAACAAUABgAEAAUABwAEAAYABAAHAAgACAAJAAQACQAIAAoACwAKAAgACgALAAwADQAKAAwACgANAA4ACgAOAA8ADwAQAAoAEAAPABEADwASABEAEgAPABMAEwAPABQADwAVABQAFQAPABYADwAXABYAFwAPABgADwAZABgAGQAPABoADwAbABoAGwAPABwAHAAPAB0A"),
"material": SubResource("StandardMaterial3D_u5t2e"),
"name": "0.615686_0.811765_0.929412_0.000000_0.000000",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 30,
"vertex_data": PackedByteArray("PaIAAAb3/7/0uwAAguL/v9THAAAy1P+/YK8AACnu/7+0lAAA/vz/v9zSAABlw/+/7NwAAE6w/7/l5QAAJpv/v6ztAAAshP+/7YYAAP///78ReQAA////vyr0AACla/+/S/kAANxR/78A/QAAHDf/vz7/AAC3G/+///8AAAAA/79KawAA/vz/v8FdAAAG9/+/nlAAACnu/78KRAAAguL/vyo4AAAy1P+/Ii0AAGXD/78SIwAATrD/vxkaAAAmm/+/UhIAACyE/7/UCwAApWv/v7MGAADcUf+//gIAABw3/7/AAAAAtxv/vwAAAAAAAP+/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_gihnw")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_kh24r"]
points = PackedVector3Array(-0.0635, 0, -3.345472e-17, -0.06313949, 0, 0.006864526, -0.0635, 0.0381, -3.345472e-17, 0.0635, 0, -3.345472e-17, -0.062020656, 0, 0.013648366, -0.06313949, 0.0381, 0.006864526, 0.0635, 0.0381, -3.345472e-17, 0.06311463, 0, 0.006864526, -0.0601808, 0, 0.020270834, -0.062020656, 0.0381, 0.013648366, 0.06311463, 0.0381, 0.006864526, 0.062008217, 0, 0.013648366, -0.057632342, 0, 0.02665745, -0.0601808, 0.0381, 0.020270834, 0.062008217, 0.0381, 0.013648366, 0.060168363, 0, 0.020270834, -0.05441259, 0, 0.032733735, -0.057632342, 0.0381, 0.02665745, 0.060168363, 0.0381, 0.020270834, 0.057619907, 0, 0.02665745, -0.05055883, 0, 0.038425207, -0.05441259, 0.0381, 0.032733735, 0.057619907, 0.0381, 0.02665745, 0.054400153, 0, 0.032733735, -0.04610836, 0, 0.0436636, -0.05055883, 0.0381, 0.038425207, 0.054400153, 0.0381, 0.032733735, 0.0505464, 0, 0.038425207, -0.041110907, 0, 0.048393045, -0.04610836, 0.0381, 0.0436636, 0.0505464, 0.0381, 0.038425207, 0.04609593, 0, 0.0436636, -0.035641056, 0, 0.05255769, -0.041110907, 0.0381, 0.048393045, 0.04609593, 0.0381, 0.0436636, 0.041098475, 0, 0.048393045, -0.029748533, 0, 0.056101672, -0.035641056, 0.0381, 0.05255769, 0.041098475, 0.0381, 0.048393045, 0.035628624, 0, 0.05255769, -0.02350793, 0, 0.05898775, -0.029748533, 0.0381, 0.056101672, 0.035628624, 0.0381, 0.05255769, 0.029736102, 0, 0.056101672, -0.016993836, 0, 0.06117869, -0.02350793, 0.0381, 0.05898775, 0.029736102, 0.0381, 0.056101672, 0.023495495, 0, 0.05898775, -0.010280836, 0, 0.06266207, -0.016993836, 0.0381, 0.06117869, 0.023495495, 0.0381, 0.05898775, 0.0169814, 0, 0.06117869, -0.0034435205, 0, 0.06340687, -0.010280836, 0.0381, 0.06266207, 0.0169814, 0.0381, 0.06117869, 0.010268398, 0, 0.06266207, -0.0034435205, 0.0381, 0.06340687, 0.0034310892, 0, 0.06340687, 0.010268398, 0.0381, 0.06266207, 0.0034310892, 0.0381, 0.06340687)

[node name="NPC" type="CharacterBody3D" groups=["attackable"]]
collision_layer = 6
collision_mask = 6
script = ExtResource("1_xxcha")
metadata/dialogue = false
metadata/attackable = false
metadata/hp = 100

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_xxcha")

[node name="enemi" parent="." instance=ExtResource("2_xxcha")]

[node name="Timer" type="Timer" parent="."]
wait_time = 30.0
one_shot = true

[node name="fov" type="Area3D" parent="."]
collision_layer = 128
collision_mask = 128

[node name="shapey" type="MeshInstance3D" parent="fov"]
transform = Transform3D(2000, 0, 0, 0, 2000, 0, 0, 0, 2000, 0, 0, 0)
visible = false
mesh = SubResource("ArrayMesh_xxcha")
skeleton = NodePath("")

[node name="CollisionShape3D" type="CollisionShape3D" parent="fov"]
transform = Transform3D(2500, 0, 0, 0, 2500, 0, 0, 0, 2500, 0, 0, -4)
shape = SubResource("ConvexPolygonShape3D_kh24r")

[node name="AttentionTimer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[node name="Pewpew" parent="." instance=ExtResource("3_kh24r")]

[connection signal="body_entered" from="fov" to="." method="_on_fov_body_entered"]
[connection signal="body_exited" from="fov" to="." method="_on_fov_body_exited"]
