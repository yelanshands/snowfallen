[gd_scene load_steps=19 format=3 uid="uid://daiyf82t58v7s"]

[ext_resource type="Script" uid="uid://bwhyes7j5e77m" path="res://player.gd" id="1_onrkg"]
[ext_resource type="PackedScene" uid="uid://bl4ue4lvsx2v2" path="res://pewpew.tscn" id="2_i3pqv"]
[ext_resource type="AudioStream" uid="uid://y2ef6e4yn2mw" path="res://assets/audio/silenced-gunshot-81063.mp3" id="4_2hs0m"]
[ext_resource type="AudioStream" uid="uid://bmydrycv0wre7" path="res://assets/audio/concrete-footsteps-1-6265.mp3" id="5_sweqy"]
[ext_resource type="Texture2D" uid="uid://rs66kiv43jvu" path="res://assets/images/crosshair.png" id="6_2hs0m"]
[ext_resource type="Shader" uid="uid://bc4f6kq1t06ct" path="res://crosshair.gdshader" id="6_b26j0"]
[ext_resource type="PackedScene" uid="uid://clpai68dck2yo" path="res://frappie.tscn" id="7_1jxqw"]
[ext_resource type="FontFile" uid="uid://c0ox2v115c0rl" path="res://assets/fonts/immortal/IMMORTAL.ttf" id="7_dw050"]
[ext_resource type="FontFile" uid="uid://b2n6a2bqt1rdk" path="res://assets/fonts/NotoSansSymbols-VariableFont_wght.ttf" id="8_b26j0"]
[ext_resource type="Shader" uid="uid://2n826thxqqk" path="res://outline.gdshader" id="10_n7ghd"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_2hs0m"]
radius = 3.0
height = 18.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nvl01"]
render_priority = 0
shader = ExtResource("10_n7ghd")
shader_parameter/outlineColor = Color(0, 0, 0, 0.78)
shader_parameter/depth_threshold = 0.025
shader_parameter/normal_threshold = 0.5
shader_parameter/normal_smoothing = 0.25
shader_parameter/max_thickness = 1.3
shader_parameter/min_thickness = 0.5
shader_parameter/max_distance = 75.0
shader_parameter/min_distance = 2.0
shader_parameter/grazing_fresnel_power = 5.0
shader_parameter/grazing_angle_mask_power = 1.0
shader_parameter/grazing_angle_modulation_factor = 50.0

[sub_resource type="QuadMesh" id="QuadMesh_b26j0"]
material = SubResource("ShaderMaterial_nvl01")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_b26j0"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_n7ghd"]
shader = ExtResource("6_b26j0")
shader_parameter/alpha_strength = 0.7

[sub_resource type="Animation" id="Animation_n7ghd"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ColorRect:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_b26j0"]
resource_name = "fade_out"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ColorRect:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nvl01"]
_data = {
&"RESET": SubResource("Animation_n7ghd"),
&"fade_out": SubResource("Animation_b26j0")
}

[node name="Player" type="CharacterBody3D"]
collision_layer = 9
collision_mask = 9
script = ExtResource("1_onrkg")
slide_accel = 15.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9, 0)
shape = SubResource("CapsuleShape3D_2hs0m")

[node name="Pewpew" parent="." instance=ExtResource("2_i3pqv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.54852, 12.901, 3.49396)

[node name="SpringArmPivot" type="Node3D" parent="."]
transform = Transform3D(-1, -3.2596283e-08, -1.509958e-07, -3.259629e-08, 0.99999994, 2.9802322e-08, 1.509958e-07, 2.9802322e-08, -1, 0, 16.564, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="SpringArmPivot"]
transform = Transform3D(0.9396926, 0, 0.34202012, 0, 1, 0, -0.34202012, 0, 0.9396926, 0, 0, 0)
collision_mask = 6
spring_length = 15.0

[node name="SpringPosition" type="Node3D" parent="SpringArmPivot/SpringArm3D"]

[node name="PlayerCamera" type="Camera3D" parent="SpringArmPivot/SpringArm3D"]
transform = Transform3D(0.9396926, 0, -0.34202012, 0, 1.0000001, 0, 0.34202012, 0, 0.9396926, 0, 0, 10)
current = true

[node name="Line" type="Marker3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]

[node name="Audio" type="AudioStreamPlayer3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
stream = ExtResource("5_sweqy")
max_db = 0.5

[node name="PewpewAudio" type="AudioStreamPlayer3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]
stream = ExtResource("4_2hs0m")
max_db = -1.0

[node name="Outline" type="MeshInstance3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]
transform = Transform3D(1, -1.7763564e-15, -2.7818146e-08, 4.5000256e-15, 0.99999994, 3.5527137e-15, 2.7818146e-08, 3.5527137e-15, 1, 0, 0, -0.403)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_b26j0")
skeleton = NodePath("../../..")

[node name="frappie" parent="." instance=ExtResource("7_1jxqw")]

[node name="Skeleton3D" parent="frappie/Node/Armature" index="0"]
bones/0/position = Vector3(-0.062440306, 11.715703, 0.01979655)
bones/0/rotation = Quaternion(-0.0074224505, -0.44952217, 0.014696043, 0.89311755)
bones/2/rotation = Quaternion(0.27763253, 0.62710506, 0.70826644, -0.16738607)
bones/4/rotation = Quaternion(-0.89167726, 0.060813494, -0.091018096, 0.4392369)
bones/6/rotation = Quaternion(0.20754525, -0.12277246, 0.07457683, 0.9676209)
bones/8/rotation = Quaternion(0.19898298, -0.043344133, -0.016100187, 0.9789116)
bones/12/rotation = Quaternion(0.08234185, -0.0034114155, -0.0037791836, 0.9965912)
bones/14/rotation = Quaternion(0.042630773, -0.0072093215, 0.0035842978, 0.9990585)
bones/16/rotation = Quaternion(0.13073765, -0.007463208, 0.0035712211, 0.99138254)
bones/18/rotation = Quaternion(0.52001613, 0.4294507, -0.4929983, 0.5496436)
bones/20/rotation = Quaternion(0.5094956, -0.3380981, 0.04928212, 0.7897311)
bones/22/rotation = Quaternion(0.5614346, -0.47616988, 0.47215915, 0.48489097)
bones/24/rotation = Quaternion(-0.11392078, -0.33015892, -0.014737494, 0.9369098)
bones/26/rotation = Quaternion(0.17982954, 0.08903641, -0.00030695365, 0.97966003)
bones/28/rotation = Quaternion(0.3881491, -1.7613638e-07, -0.039776314, 0.9207378)
bones/30/rotation = Quaternion(0.37232462, -2.6123598e-07, -0.03815473, 0.927318)
bones/34/rotation = Quaternion(0.26629323, -0.08062313, 0.14082263, 0.9501352)
bones/36/rotation = Quaternion(-0.019475153, -1.7089769e-07, -0.1212724, 0.99242824)
bones/38/rotation = Quaternion(-0.0875283, -0.07377635, 0.23083405, 0.9662358)
bones/42/rotation = Quaternion(0.057484016, -0.0698947, -0.010064034, 0.9958459)
bones/44/rotation = Quaternion(0.43312728, -3.1443776e-07, -0.044385258, 0.9002392)
bones/46/rotation = Quaternion(0.2741381, -2.1839514e-07, -0.028092658, 0.9612799)
bones/50/rotation = Quaternion(0.1806817, 0.08329429, -0.0038726314, 0.9800006)
bones/52/rotation = Quaternion(0.24565089, -2.970337e-07, -0.025173498, 0.9690315)
bones/54/rotation = Quaternion(0.2464323, -2.740417e-07, -0.025253722, 0.968831)
bones/58/rotation = Quaternion(0.15596479, 0.010911245, -0.0010717605, 0.98770183)
bones/60/rotation = Quaternion(0.56392276, -2.9787765e-07, -0.05778904, 0.8238031)
bones/62/rotation = Quaternion(0.28520912, 0.019716363, -0.09367742, 0.95367265)
bones/66/rotation = Quaternion(-0.0062564295, 0.037457626, -0.017397903, 0.99912715)
bones/68/rotation = Quaternion(-0.0005878725, 0.21042494, -0.0046827006, 0.9775987)
bones/72/rotation = Quaternion(-0.4738794, 0.37272334, -0.54350525, -0.5840529)
bones/74/rotation = Quaternion(0.42041516, -0.13991217, -0.3944266, 0.8050487)
bones/76/rotation = Quaternion(0.24676657, 0.22576839, -0.70725656, 0.62283474)
bones/78/rotation = Quaternion(0.02060495, -0.031692266, -0.056265973, 0.9977)
bones/80/rotation = Quaternion(0.006464662, -0.031608663, 0.105491, 0.99389684)
bones/82/rotation = Quaternion(0.78052026, 6.2317116e-07, 0.06358319, 0.62188846)
bones/84/rotation = Quaternion(0.5808557, 1.9837168e-07, 0.047317687, 0.81263006)
bones/88/rotation = Quaternion(0.044935036, -0.0008177756, 0.05096664, 0.9976886)
bones/90/rotation = Quaternion(0.10052425, -3.2037497e-07, 0.0081885345, 0.99490094)
bones/92/rotation = Quaternion(0.2884712, 2.682209e-07, 0.023499608, 0.95720017)
bones/96/rotation = Quaternion(0.04256924, 0.15521, 0.08592559, 0.98321646)
bones/98/rotation = Quaternion(0.72973496, 5.462207e-07, 0.059445776, 0.6811411)
bones/100/rotation = Quaternion(0.62388086, 4.217727e-07, 0.050822847, 0.77986526)
bones/104/rotation = Quaternion(0.22757566, -0.05987917, -0.16241048, 0.9582519)
bones/106/rotation = Quaternion(-0.04475351, 0.0143340845, 0.18710074, 0.9812161)
bones/108/rotation = Quaternion(-0.18214773, 0.024835154, 0.1911999, 0.9641826)
bones/112/rotation = Quaternion(0.09111084, 0.113690466, 0.100503616, 0.98421156)
bones/114/rotation = Quaternion(0.83666563, 1.2256205e-06, 0.06815682, 0.54345673)
bones/116/rotation = Quaternion(0.6330092, 3.821915e-07, 0.051566724, 0.772425)
bones/120/rotation = Quaternion(-0.15460926, 0.7142521, 0.65721744, 0.1844051)
bones/122/rotation = Quaternion(-0.9360065, -0.029092148, 0.06299295, 0.34507605)
bones/124/rotation = Quaternion(0.26788577, -0.04344211, -0.10280354, 0.9569648)
bones/126/rotation = Quaternion(0.22349802, 0.040952478, 0.051243085, 0.9724946)

[node name="mixamorigLeftToe_End" parent="frappie/Node/Armature/Skeleton3D" index="0"]
transform = Transform3D(-0.9712663, 0.009764508, -0.23779443, -0.021615326, -0.9986478, 0.047279894, -0.23701118, 0.05106143, 0.97016394, 0.3689095, 3.435542, 1.5631397)

[node name="mixamorigLeftHandMiddle4" parent="frappie/Node/Armature/Skeleton3D" index="1"]
transform = Transform3D(-0.56747955, 0.31242636, 0.7618114, 0.035256077, 0.93358755, -0.35661075, -0.8226325, -0.17551084, -0.5408066, -3.7162182, 15.608343, 7.2881327)

[node name="mixamorigLeftHandThumb4" parent="frappie/Node/Armature/Skeleton3D" index="2"]
transform = Transform3D(-0.8546934, -0.27075407, 0.4429344, 0.46503633, -0.020087048, 0.8850635, -0.23073727, 0.962439, 0.1430789, -2.9693348, 15.221344, 7.940594)

[node name="mixamorigLeftHandPinky4" parent="frappie/Node/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.447414, 0.22655335, 0.8651555, 0.363447, 0.92995614, -0.0555658, -0.81714517, 0.28957725, -0.49841562, -3.9589365, 15.507539, 6.9739513)

[node name="mixamorigLeftHandIndex4" parent="frappie/Node/Armature/Skeleton3D" index="4"]
transform = Transform3D(-0.55294716, -0.109426364, 0.82599956, 0.098374024, 0.9758314, 0.19513024, -0.82738864, 0.18915357, -0.52881855, -3.7616196, 15.40446, 7.766128)

[node name="mixamorigLeftHandRing4" parent="frappie/Node/Armature/Skeleton3D" index="5"]
transform = Transform3D(-0.6030973, 0.44342065, 0.6630622, 0.06269822, 0.8550319, -0.5147714, -0.7951997, -0.26888457, -0.5434689, -3.594817, 15.643832, 6.947418)

[node name="mixamorigHeadTop_End" parent="frappie/Node/Armature/Skeleton3D" index="6"]
transform = Transform3D(0.8541066, -0.38294965, -0.35192534, 0.2208341, 0.8796511, -0.42124364, 0.47088653, 0.28206977, 0.8358842, -3.3578596, 20.239384, 2.6726055)

[node name="mixamorigNeck" parent="frappie/Node/Armature/Skeleton3D" index="7"]
transform = Transform3D(0.6302286, -0.39067474, -0.67095846, 0.035792746, 0.8778815, -0.47753862, 0.7755841, 0.276943, 0.5672493, -1.4139627, 17.612326, 0.7476574)

[node name="mixamorigRightHandMiddle4" parent="frappie/Node/Armature/Skeleton3D" index="8"]
transform = Transform3D(0.0021009678, 0.0058023706, -0.99998134, 0.99629426, -0.08599612, 0.0015940145, -0.085985355, -0.99627894, -0.0059616324, -3.2844164, 14.697965, 3.6701324)

[node name="mixamorigRightHandIndex4" parent="frappie/Node/Armature/Skeleton3D" index="9"]
transform = Transform3D(-0.16918823, 0.80138797, 0.57371867, 0.975377, 0.21970215, -0.019250216, -0.14147423, 0.5563349, -0.81882644, -3.2633986, 15.288035, 4.7275295)

[node name="mixamorigRightHandPinky4" parent="frappie/Node/Armature/Skeleton3D" index="10"]
transform = Transform3D(-0.3617447, -0.048647802, -0.9310073, 0.9280892, -0.1133421, -0.3546886, -0.08826765, -0.9923645, 0.08615026, -3.2296934, 14.236652, 3.7987971)

[node name="mixamorigRightHandThumb4" parent="frappie/Node/Armature/Skeleton3D" index="11"]
transform = Transform3D(0.21967945, 0.06379118, 0.9734842, 0.9739763, 0.042714912, -0.22258945, -0.055781964, 0.99704856, -0.052747376, -3.1365871, 15.224792, 3.9284928)

[node name="mixamorigRightHandRing4" parent="frappie/Node/Armature/Skeleton3D" index="12"]
transform = Transform3D(-0.27650613, -0.47129336, -0.8375126, 0.9560471, -0.22337463, -0.18994114, -0.09756122, -0.85322136, 0.51234293, -3.4787383, 14.453836, 3.5800328)

[node name="mixamorigRightToe_End" parent="frappie/Node/Armature/Skeleton3D" index="13"]
transform = Transform3D(-0.34398046, -0.18047339, -0.92147005, -0.062297583, -0.9748067, 0.21417552, -0.9369077, 0.13107741, 0.32407144, -1.874082, 4.386864, -0.8060097)

[node name="pewpew" parent="frappie/Node/Armature/Skeleton3D" index="16"]
transform = Transform3D(-0.22250748, 0.040124655, 0.97410524, 0.9334993, 0.29694778, 0.20100069, -0.28119338, 0.9540505, -0.103529364, -3.8021793, 14.2071495, 2.2952309)

[node name="footcollider" type="BoneAttachment3D" parent="frappie/Node/Armature/Skeleton3D" index="17"]
transform = Transform3D(-0.9712663, 0.009764508, -0.23779443, -0.021615326, -0.9986478, 0.047279894, -0.23701118, 0.05106143, 0.97016394, 0.3689095, 3.435542, 1.5631397)
bone_name = "mixamorigLeftToe_End"
bone_idx = 10

[node name="Area3D" type="Area3D" parent="frappie/Node/Armature/Skeleton3D/footcollider"]
collision_layer = 16
collision_mask = 16

[node name="CollisionShape3D" type="CollisionShape3D" parent="frappie/Node/Armature/Skeleton3D/footcollider/Area3D"]
shape = SubResource("SphereShape3D_b26j0")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Crosshair" type="TextureRect" parent="CanvasLayer/MarginContainer"]
modulate = Color(1, 1, 1, 0.5882353)
material = SubResource("ShaderMaterial_n7ghd")
clip_contents = true
layout_mode = 2
mouse_filter = 2
texture = ExtResource("6_2hs0m")
expand_mode = 1
stretch_mode = 3

[node name="ScoreContainer" type="VBoxContainer" parent="CanvasLayer/MarginContainer"]
layout_mode = 2

[node name="Score" type="Label" parent="CanvasLayer/MarginContainer/ScoreContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("7_dw050")
theme_override_font_sizes/font_size = 48
text = "
   0"

[node name="Header" type="VBoxContainer" parent="CanvasLayer/MarginContainer"]
visible = false
layout_mode = 2
theme_override_constants/separation = -170

[node name="Dice" type="Label" parent="CanvasLayer/MarginContainer/Header"]
modulate = Color(1, 1, 1, 0.78431374)
layout_mode = 2
theme_override_fonts/font = ExtResource("8_b26j0")
theme_override_font_sizes/font_size = 140
text = "⚀⚁⚂⚃⚄⚅"
horizontal_alignment = 1

[node name="Arrow" type="Label" parent="CanvasLayer/MarginContainer/Header"]
modulate = Color(1, 1, 1, 0.39215687)
layout_mode = 2
theme_override_fonts/font = ExtResource("8_b26j0")
theme_override_font_sizes/font_size = 140
text = "⮝"
horizontal_alignment = 1

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer"]
libraries = {
&"": SubResource("AnimationLibrary_nvl01")
}

[connection signal="body_entered" from="frappie/Node/Armature/Skeleton3D/footcollider/Area3D" to="." method="_on_area_3d_body_entered"]

[editable path="Pewpew"]
[editable path="frappie"]
