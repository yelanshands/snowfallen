[gd_scene load_steps=19 format=3 uid="uid://daiyf82t58v7s"]

[ext_resource type="Script" uid="uid://bwhyes7j5e77m" path="res://player.gd" id="1_onrkg"]
[ext_resource type="PackedScene" uid="uid://bl4ue4lvsx2v2" path="res://pewpew.tscn" id="2_i3pqv"]
[ext_resource type="AudioStream" uid="uid://y2ef6e4yn2mw" path="res://assets/audio/silenced-gunshot-81063.mp3" id="4_2hs0m"]
[ext_resource type="AudioStream" uid="uid://bmydrycv0wre7" path="res://assets/audio/concrete-footsteps-1-6265.mp3" id="5_sweqy"]
[ext_resource type="Texture2D" uid="uid://rs66kiv43jvu" path="res://assets/images/crosshair.png" id="6_2hs0m"]
[ext_resource type="Shader" uid="uid://bc4f6kq1t06ct" path="res://crosshair.gdshader" id="6_b26j0"]
[ext_resource type="PackedScene" uid="uid://clpai68dck2yo" path="res://frappie.tscn" id="7_1jxqw"]
[ext_resource type="FontFile" uid="uid://c0ox2v115c0rl" path="res://assets/fonts/immortal/IMMORTAL.ttf" id="7_dw050"]
[ext_resource type="FontFile" uid="uid://b2n6a2bqt1rdk" path="res://assets/fonts/NotoSansSymbols-VariableFont_wght.ttf" id="8_b26j0"]
[ext_resource type="Shader" uid="uid://2n826thxqqk" path="res://outline.gdshader" id="10_n7ghd"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_2hs0m"]
radius = 3.0
height = 18.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nvl01"]
render_priority = 0
shader = ExtResource("10_n7ghd")
shader_parameter/outlineColor = Color(0, 0, 0, 0.78)
shader_parameter/depth_threshold = 0.025
shader_parameter/normal_threshold = 0.5
shader_parameter/normal_smoothing = 0.25
shader_parameter/max_thickness = 1.3
shader_parameter/min_thickness = 0.5
shader_parameter/max_distance = 75.0
shader_parameter/min_distance = 2.0
shader_parameter/grazing_fresnel_power = 5.0
shader_parameter/grazing_angle_mask_power = 1.0
shader_parameter/grazing_angle_modulation_factor = 50.0

[sub_resource type="QuadMesh" id="QuadMesh_b26j0"]
material = SubResource("ShaderMaterial_nvl01")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_b26j0"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_n7ghd"]
shader = ExtResource("6_b26j0")
shader_parameter/alpha_strength = 0.7

[sub_resource type="Animation" id="Animation_n7ghd"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ColorRect:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_b26j0"]
resource_name = "fade_out"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ColorRect:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nvl01"]
_data = {
&"RESET": SubResource("Animation_n7ghd"),
&"fade_out": SubResource("Animation_b26j0")
}

[node name="Player" type="CharacterBody3D"]
collision_layer = 9
collision_mask = 9
script = ExtResource("1_onrkg")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9, 0)
shape = SubResource("CapsuleShape3D_2hs0m")

[node name="Pewpew" parent="." instance=ExtResource("2_i3pqv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.54852, 12.901, 3.49396)

[node name="SpringArmPivot" type="Node3D" parent="."]
transform = Transform3D(-1, -3.2596283e-08, -1.509958e-07, -3.259629e-08, 0.99999994, 2.9802322e-08, 1.509958e-07, 2.9802322e-08, -1, 0, 16.564, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="SpringArmPivot"]
transform = Transform3D(0.9396926, 0, 0.34202012, 0, 1, 0, -0.34202012, 0, 0.9396926, 0, 0, 0)
collision_mask = 6
spring_length = 15.0

[node name="SpringPosition" type="Node3D" parent="SpringArmPivot/SpringArm3D"]

[node name="PlayerCamera" type="Camera3D" parent="SpringArmPivot/SpringArm3D"]
transform = Transform3D(0.9396926, 0, -0.34202012, 0, 1.0000001, 0, 0.34202012, 0, 0.9396926, 0, 0, 10)
current = true

[node name="Line" type="Marker3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]

[node name="Audio" type="AudioStreamPlayer3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
stream = ExtResource("5_sweqy")
max_db = 0.5

[node name="PewpewAudio" type="AudioStreamPlayer3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]
stream = ExtResource("4_2hs0m")
max_db = -1.0

[node name="Outline" type="MeshInstance3D" parent="SpringArmPivot/SpringArm3D/PlayerCamera"]
transform = Transform3D(1, -1.7763564e-15, -2.7818146e-08, 4.5000256e-15, 0.99999994, 3.5527137e-15, 2.7818146e-08, 3.5527137e-15, 1, 0, 0, -0.403)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_b26j0")
skeleton = NodePath("../../..")

[node name="frappie" parent="." instance=ExtResource("7_1jxqw")]

[node name="Skeleton3D" parent="frappie/Node/Armature" index="0"]
bones/0/position = Vector3(0.017732412, 11.485835, 0.07664226)
bones/0/rotation = Quaternion(0.046794854, 0.026918454, -0.025972912, 0.998204)
bones/2/rotation = Quaternion(0.043946587, 0.3539834, 0.9338963, 0.024539754)
bones/4/rotation = Quaternion(-0.7759013, -0.05312711, 0.107631326, 0.61933047)
bones/6/rotation = Quaternion(0.6280314, 0.038070634, 0.06579732, 0.7744662)
bones/8/rotation = Quaternion(0.23373199, -0.081966326, -0.05412617, 0.9673269)
bones/12/rotation = Quaternion(-0.017641464, 0.01012571, 0.014209143, 0.9996922)
bones/14/rotation = Quaternion(0.08644174, 0.020807616, 0.019720467, 0.99584436)
bones/16/rotation = Quaternion(0.14357568, 0.021917734, 0.018495474, 0.9892237)
bones/18/rotation = Quaternion(0.50546783, 0.50843495, -0.5744527, 0.3949689)
bones/20/rotation = Quaternion(0.51510406, 0.12633575, -0.13765079, 0.83651626)
bones/22/rotation = Quaternion(0.06855896, 0.06994425, 0.7845286, 0.612309)
bones/24/rotation = Quaternion(-0.006185745, 0.09702298, 0.17726432, 0.9793496)
bones/26/rotation = Quaternion(0.65131027, -0.010301622, 0.05206793, 0.75695294)
bones/28/rotation = Quaternion(0.63901097, -0.004122446, 0.064624675, 0.76646703)
bones/30/rotation = Quaternion(0.37232447, -3.0640513e-07, -0.038154554, 0.9273181)
bones/34/rotation = Quaternion(0.3007211, -0.08238947, 0.28463084, 0.906512)
bones/36/rotation = Quaternion(-0.033389933, -0.0011542481, -0.1266138, 0.99138933)
bones/38/rotation = Quaternion(-0.087528236, -0.07377632, 0.23083413, 0.96623576)
bones/42/rotation = Quaternion(0.71344125, -0.08813142, -0.04629916, 0.69360715)
bones/44/rotation = Quaternion(0.718416, 0.028658949, 0.048203997, 0.69334954)
bones/46/rotation = Quaternion(0.27413827, -1.040753e-07, -0.028092401, 0.9612799)
bones/50/rotation = Quaternion(0.6272965, 3.84124e-06, 0.061655253, 0.77633613)
bones/52/rotation = Quaternion(0.679782, -0.014130674, 0.06310614, 0.7305577)
bones/54/rotation = Quaternion(0.24643245, -1.8975697e-07, -0.025253553, 0.96883094)
bones/58/rotation = Quaternion(0.6797279, -0.0505677, -0.00756964, 0.73168004)
bones/60/rotation = Quaternion(0.65856653, 0.0045775883, 0.045810238, 0.7511129)
bones/62/rotation = Quaternion(0.285209, 0.019716213, -0.09367746, 0.9536727)
bones/66/rotation = Quaternion(-0.062426195, -0.027619353, -0.0020687513, 0.9976653)
bones/68/rotation = Quaternion(-0.11945264, -0.06923806, -0.037521802, 0.9897117)
bones/72/rotation = Quaternion(-0.5304592, 0.487715, -0.5557037, -0.41465726)
bones/74/rotation = Quaternion(0.4480023, -0.044115894, 0.013078781, 0.8928476)
bones/76/rotation = Quaternion(0.048522428, -0.009651939, -0.7003692, 0.7120642)
bones/78/rotation = Quaternion(0.020990932, 0.00363997, -0.05062688, 0.99849045)
bones/80/rotation = Quaternion(0.6296506, 0.0035842601, -0.025807407, 0.7764414)
bones/82/rotation = Quaternion(0.6793722, 0.0044019525, -0.05562179, 0.7316696)
bones/84/rotation = Quaternion(0.58085585, 3.1664968e-07, 0.047317892, 0.81263)
bones/88/rotation = Quaternion(0.5939088, -0.03943127, -0.003115504, 0.8035596)
bones/90/rotation = Quaternion(0.7181506, 0.015249087, -0.05300593, 0.69369847)
bones/92/rotation = Quaternion(0.28847125, 1.2107193e-07, 0.023499582, 0.95720017)
bones/96/rotation = Quaternion(0.7548737, 0.07509837, 0.017690053, 0.6513164)
bones/98/rotation = Quaternion(0.7501054, -0.03031668, -0.08891535, 0.654612)
bones/100/rotation = Quaternion(0.6238806, 3.6298297e-07, 0.05082267, 0.7798654)
bones/104/rotation = Quaternion(0.314596, 0.05747298, -0.2332167, 0.9183335)
bones/106/rotation = Quaternion(-0.029405287, 0.0009728734, 0.10250901, 0.99429685)
bones/108/rotation = Quaternion(-0.18214771, 0.024835274, 0.19120005, 0.96418256)
bones/112/rotation = Quaternion(0.678865, 0.041284528, -0.0008872976, 0.73310107)
bones/114/rotation = Quaternion(0.6955801, -0.004378155, -0.06492079, 0.71549594)
bones/116/rotation = Quaternion(0.633009, 4.0780282e-07, 0.051566936, 0.772425)
bones/120/rotation = Quaternion(-0.042147577, 0.17195325, 0.98332006, -0.041681092)
bones/122/rotation = Quaternion(-0.4289315, -0.005044235, -0.0071799452, 0.90329444)
bones/124/rotation = Quaternion(0.7067975, -0.016528053, -0.037474815, 0.70622927)
bones/126/rotation = Quaternion(0.3149243, -0.019526234, 0.115296625, 0.94188535)

[node name="mixamorigLeftToe_End" parent="frappie/Node/Armature/Skeleton3D" index="0"]
transform = Transform3D(-0.9885656, 0.114179544, 0.098492965, -0.030505797, -0.79110616, 0.6109177, 0.14767267, 0.6009277, 0.78554344, 0.9369402, 1.5892401, -0.8153331)

[node name="mixamorigLeftHandMiddle4" parent="frappie/Node/Armature/Skeleton3D" index="1"]
transform = Transform3D(0.2015047, 0.4180229, 0.88580614, -0.91459894, 0.40398726, 0.017407972, -0.35057735, -0.8136652, 0.46372858, 2.8325155, 12.236156, 0.6949707)

[node name="mixamorigLeftHandThumb4" parent="frappie/Node/Armature/Skeleton3D" index="2"]
transform = Transform3D(-0.019323558, -0.4484247, -0.8936116, -0.91452956, 0.36913213, -0.16545898, 0.40405667, 0.81403714, -0.41723055, 1.8782222, 12.724614, 1.7603834)

[node name="mixamorigLeftHandPinky4" parent="frappie/Node/Armature/Skeleton3D" index="3"]
transform = Transform3D(0.20614633, 0.5013733, 0.8403144, -0.8033338, 0.5770451, -0.14721934, -0.55871093, -0.64470416, 0.52172595, 3.0967019, 11.904428, 0.42794102)

[node name="mixamorigLeftHandIndex4" parent="frappie/Node/Armature/Skeleton3D" index="4"]
transform = Transform3D(0.22601284, 0.21685283, 0.94968057, -0.90621763, 0.40442753, 0.12332123, -0.35733423, -0.8884894, 0.28792158, 2.552648, 12.4921875, 0.82688296)

[node name="mixamorigLeftHandRing4" parent="frappie/Node/Armature/Skeleton3D" index="5"]
transform = Transform3D(0.19465601, 0.34814337, 0.91700876, -0.9107643, 0.41124764, 0.037199955, -0.36416674, -0.84242004, 0.39712822, 2.949332, 12.082537, 0.49932986)

[node name="mixamorigHeadTop_End" parent="frappie/Node/Armature/Skeleton3D" index="6"]
transform = Transform3D(0.997778, 0.057849776, -0.03305327, -0.062330697, 0.9857339, -0.15634415, 0.023537293, 0.15805697, 0.9871495, 0.26812425, 20.586487, 3.5992308)

[node name="mixamorigNeck" parent="frappie/Node/Armature/Skeleton3D" index="7"]
transform = Transform3D(0.99488914, -0.009553036, 0.1005202, 0.04798546, 0.9206466, -0.38743713, -0.088842325, 0.39028051, 0.91639966, 0.13477048, 17.404135, 1.5518174)

[node name="mixamorigRightHandMiddle4" parent="frappie/Node/Armature/Skeleton3D" index="8"]
transform = Transform3D(0.21479233, -0.9164136, -0.3377151, 0.8382878, 0.35041523, -0.41771197, 0.50113726, -0.19338095, 0.84348434, -2.8068504, 11.046625, 2.6787403)

[node name="mixamorigRightHandIndex4" parent="frappie/Node/Armature/Skeleton3D" index="9"]
transform = Transform3D(0.34396434, -0.51881313, -0.7826381, 0.8095408, 0.5861486, -0.03277198, 0.4757447, -0.6223047, 0.62161446, -2.4332688, 11.346631, 2.6452575)

[node name="mixamorigRightHandPinky4" parent="frappie/Node/Armature/Skeleton3D" index="10"]
transform = Transform3D(0.13355798, -0.9656514, 0.22289184, 0.6739193, -0.07640797, -0.7348434, 0.72663313, 0.24835521, 0.6405659, -3.1118994, 10.625763, 2.4292424)

[node name="mixamorigRightHandThumb4" parent="frappie/Node/Armature/Skeleton3D" index="11"]
transform = Transform3D(0.512776, 0.47674143, 0.71398795, 0.78860295, -0.59029573, -0.17221265, 0.33936325, 0.6513589, -0.678649, -1.6161277, 11.0961075, 3.282849)

[node name="mixamorigRightHandRing4" parent="frappie/Node/Armature/Skeleton3D" index="12"]
transform = Transform3D(0.18008731, -0.98004067, -0.08420064, 0.7780361, 0.19429533, -0.5974191, 0.6018548, 0.042076424, 0.7974968, -3.0200574, 10.874446, 2.6044564)

[node name="mixamorigRightToe_End" parent="frappie/Node/Armature/Skeleton3D" index="13"]
transform = Transform3D(-0.970067, 0.24237894, 0.014895098, 0.016196549, 0.0033776164, 0.99986327, 0.24229547, 0.9701756, -0.007202328, -0.5827835, 0.40989625, 1.0014732)

[node name="pewpew" parent="frappie/Node/Armature/Skeleton3D" index="16"]
transform = Transform3D(0.37861368, 0.23797002, 0.89444, 0.7929062, -0.58189785, -0.18081783, 0.47744346, 0.7776668, -0.40900227, -3.2063332, 11.691731, 1.9831383)

[node name="footcollider" type="BoneAttachment3D" parent="frappie/Node/Armature/Skeleton3D" index="17"]
transform = Transform3D(-0.9885656, 0.114179544, 0.098492965, -0.030505797, -0.79110616, 0.6109177, 0.14767267, 0.6009277, 0.78554344, 0.9369402, 1.5892401, -0.8153331)
bone_name = "mixamorigLeftToe_End"
bone_idx = 10

[node name="Area3D" type="Area3D" parent="frappie/Node/Armature/Skeleton3D/footcollider"]
collision_layer = 16
collision_mask = 16

[node name="CollisionShape3D" type="CollisionShape3D" parent="frappie/Node/Armature/Skeleton3D/footcollider/Area3D"]
shape = SubResource("SphereShape3D_b26j0")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Crosshair" type="TextureRect" parent="CanvasLayer/MarginContainer"]
modulate = Color(1, 1, 1, 0.5882353)
material = SubResource("ShaderMaterial_n7ghd")
clip_contents = true
layout_mode = 2
mouse_filter = 2
texture = ExtResource("6_2hs0m")
expand_mode = 1
stretch_mode = 3

[node name="ScoreContainer" type="VBoxContainer" parent="CanvasLayer/MarginContainer"]
layout_mode = 2

[node name="Score" type="Label" parent="CanvasLayer/MarginContainer/ScoreContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("7_dw050")
theme_override_font_sizes/font_size = 48
text = "
   0"

[node name="Header" type="VBoxContainer" parent="CanvasLayer/MarginContainer"]
visible = false
layout_mode = 2
theme_override_constants/separation = -170

[node name="Dice" type="Label" parent="CanvasLayer/MarginContainer/Header"]
modulate = Color(1, 1, 1, 0.78431374)
layout_mode = 2
theme_override_fonts/font = ExtResource("8_b26j0")
theme_override_font_sizes/font_size = 140
text = "⚀⚁⚂⚃⚄⚅"
horizontal_alignment = 1

[node name="Arrow" type="Label" parent="CanvasLayer/MarginContainer/Header"]
modulate = Color(1, 1, 1, 0.39215687)
layout_mode = 2
theme_override_fonts/font = ExtResource("8_b26j0")
theme_override_font_sizes/font_size = 140
text = "⮝"
horizontal_alignment = 1

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer"]
libraries = {
&"": SubResource("AnimationLibrary_nvl01")
}

[connection signal="body_entered" from="frappie/Node/Armature/Skeleton3D/footcollider/Area3D" to="." method="_on_area_3d_body_entered"]

[editable path="Pewpew"]
[editable path="frappie"]
